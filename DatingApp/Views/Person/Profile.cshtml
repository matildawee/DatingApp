@model DataLayer.Models.Person
@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    ViewData["Title"] = "Profile";
}



@if (SignInManager.IsSignedIn(User))
{
    <div>
        <img width="200" height="200" src="@Url.Action("RenderProfileImage", "Person", new { userId = @Model.PersonId })" />
        <h2>@Model.FirstName @Model.LastName</h2>
        <p>@Model.Description</p>


        @*<div class="form-group">
                <label asp-for="Description" class="control-label"></label>
                <input asp-for="Description" class="form-control" />
                <span asp-validation-for="Description" class="text-danger"></span>
            </div>*@

        @*<div class="form-group">
                <input type="submit" value="Post" class="btn btn-primary" />
            </div>*@

    </div>
    <div>
        <a class="nameLink" href="@Url.Action("Post", "Post", new { personid = @Model.PersonId })">
            <h4 class="card-title">Posts</h4>
        </a>

        @*<partial name="/Views/Post/Post.cshtml" for="@Model.PersonId" />*@
        @*@Html.Partial("/Views/Post/Post.cshtml", @Model.PersonId)*@

    </div>

}
else
{
    <li class="nav-item">
        <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Register">Register</a>
    </li>
    <li class="nav-item">
        <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Login">Login</a>
    </li>
}

